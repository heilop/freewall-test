
<html>
  <head>
    <!--
    <script type ="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js"></script>
    -->
    <script type ="text/javascript" src="http://code.jquery.com/jquery-latest.js"></script>
    <script type ="text/javascript" src="freewall/freewall.js"></script>
    <style type="text/css">
      .container {
        width: 80%;
        margin: auto;
      }
      .item{
        background: rgb(135, 199, 135);
        width: 400px;
        height: 270px;
      }

      .item img{
        width: 100%;
      }

      .item2{
        background: rgb(212, 233, 112);
        width: 200px;
        height: 150px;
      }
    </style>

  </head>
  <body>

    <div id="container">
      <div class="item">fghjkhgf</div>
      <div class="item item2">sdfsdfsdfsdfsdfsdfsd fs df sd f sdf sdf sd fs df</div>
      <div class="item item2"><img src="http://fotogrph.com/images/previews/159536176"/></div>
      <div class="item"></div>
      <div class="item"></div>
      <div class="item item2"><img src="http://fotogrph.com/images/previews/159536176"/></div>
      <div class="item"></div>
      <div class="item">fghjkhgf</div>
      <div class="item item2">sdfsdfsdfsdfsdfsdfsd fs df sd f sdf sdf sd fs df</div>
      <div class="item item2"><img src="http://fotogrph.com/images/previews/857581917"/><div>sdfsdfsdfsdfsdfsdfsd fs df sd f sdf sdf sd fs df</div></div>
      <div class="item"></div>
      <div class="item"></div>
      <div class="item item2"><img src="http://fotogrph.com/images/previews/786211338"></div>
      <div class="item"></div>
    </div>


    <script type="text/javascript">
      // $(function(){
      //   var wall = new freewall(".container");
      //   wall.fitWidth();
      // });
      //
      var wall = new freewall("#container");
      wall.reset({
        selector: '.item',
        animate: true,
        cellW: 200,
        cellH: 'auto',
        onResize: function() {
          wall.fitWidth();
          //$('.container .item').each(function(index){
          //   var img_r = $(this).find('img');
          //   if (img_r.length > 0) {
          //     //var width = img_r.clientWidth;
          //     var height = img_r.css('height');
          //     $(this).css('height', height)
          //   }
          //});

        }
      });

      var images = wall.container.find('.item');
      wall.fitWidth();


    </script>
  </body>
</html>
